<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="baidu-site-verification" content="IjYHkLvavX" />
  
  <title>袁克强的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="description">
<meta property="og:type" content="website">
<meta property="og:title" content="袁克强的博客">
<meta property="og:url" content="http://iscript.github.io/index.html">
<meta property="og:site_name" content="袁克强的博客">
<meta property="og:description" content="description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="袁克强的博客">
<meta name="twitter:description" content="description">
  
    <link rel="alternative" href="/atom.xml" title="袁克强的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  <!--[if lt IE 11]>
  <script>
  alert("请不要使用IE浏览器访问本站");
  </script>
  <![endif]-->
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://7xnv0h.com1.z0.glb.clouddn.com/avatar.jpeg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">袁克强</a></h1>
		</hgroup>

		
		<p class="header-subtitle">求知若渴，虚心若愚。</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/iScript/" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/u/2710578101" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="/#" title="rss">rss</a>
					        
								<a class="zhihu" target="_blank" href="/#" title="zhihu">zhihu</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/AMD/" style="font-size: 10px;">AMD</a> <a href="/tags/BSD/" style="font-size: 10px;">BSD</a> <a href="/tags/GD库/" style="font-size: 10px;">GD库</a> <a href="/tags/Gecko/" style="font-size: 10px;">Gecko</a> <a href="/tags/Laravel/" style="font-size: 12px;">Laravel</a> <a href="/tags/MIT/" style="font-size: 10px;">MIT</a> <a href="/tags/Node-js/" style="font-size: 12px;">Node.js</a> <a href="/tags/PHP/" style="font-size: 18px;">PHP</a> <a href="/tags/RESTful/" style="font-size: 10px;">RESTful</a> <a href="/tags/angular-js/" style="font-size: 10px;">angular.js</a> <a href="/tags/bower/" style="font-size: 10px;">bower</a> <a href="/tags/cookie/" style="font-size: 10px;">cookie</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/grunt/" style="font-size: 12px;">grunt</a> <a href="/tags/iOS/" style="font-size: 16px;">iOS</a> <a href="/tags/javascript/" style="font-size: 20px;">javascript</a> <a href="/tags/json/" style="font-size: 10px;">json</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/mongodb/" style="font-size: 10px;">mongodb</a> <a href="/tags/mongoose/" style="font-size: 10px;">mongoose</a> <a href="/tags/node-js/" style="font-size: 12px;">node.js</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/psr/" style="font-size: 10px;">psr</a> <a href="/tags/require-js/" style="font-size: 14px;">require.js</a> <a href="/tags/session/" style="font-size: 10px;">session</a> <a href="/tags/socket/" style="font-size: 10px;">socket</a> <a href="/tags/swift/" style="font-size: 16px;">swift</a> <a href="/tags/test/" style="font-size: 10px;">test</a> <a href="/tags/text-js/" style="font-size: 10px;">text.js</a> <a href="/tags/webkit/" style="font-size: 10px;">webkit</a> <a href="/tags/wordpress/" style="font-size: 12px;">wordpress</a> <a href="/tags/二次开发/" style="font-size: 10px;">二次开发</a> <a href="/tags/互联网/" style="font-size: 10px;">互联网</a> <a href="/tags/产品/" style="font-size: 10px;">产品</a> <a href="/tags/佛学/" style="font-size: 10px;">佛学</a> <a href="/tags/图片/" style="font-size: 10px;">图片</a> <a href="/tags/安全/" style="font-size: 10px;">安全</a> <a href="/tags/定时/" style="font-size: 10px;">定时</a> <a href="/tags/开源协议/" style="font-size: 10px;">开源协议</a> <a href="/tags/异步/" style="font-size: 10px;">异步</a> <a href="/tags/总结/" style="font-size: 10px;">总结</a> <a href="/tags/持续集成/" style="font-size: 10px;">持续集成</a> <a href="/tags/推送/" style="font-size: 12px;">推送</a> <a href="/tags/插件/" style="font-size: 10px;">插件</a> <a href="/tags/框架/" style="font-size: 12px;">框架</a> <a href="/tags/测试/" style="font-size: 10px;">测试</a> <a href="/tags/浏览器/" style="font-size: 10px;">浏览器</a> <a href="/tags/理财/" style="font-size: 10px;">理财</a> <a href="/tags/编码规范/" style="font-size: 10px;">编码规范</a> <a href="/tags/翻译/" style="font-size: 10px;">翻译</a> <a href="/tags/自动化/" style="font-size: 10px;">自动化</a> <a href="/tags/融云/" style="font-size: 10px;">融云</a> <a href="/tags/读书/" style="font-size: 14px;">读书</a> <a href="/tags/转载/" style="font-size: 12px;">转载</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.jianshu.com/">简书</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">PHP开发工程师@温州。博客关于：技术、生活、读书、互联网。</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">袁克强</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="http://7xnv0h.com1.z0.glb.clouddn.com/avatar.jpeg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">袁克强</h1>
			</hgroup>
			
			<p class="header-subtitle">求知若渴，虚心若愚。</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/iScript/" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/u/2710578101" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="/#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="/#" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-细说iOS消息推送" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/细说iOS消息推送/" class="article-date">
  	<time datetime="2015-11-26T09:00:39.000Z" itemprop="datePublished">2015-11-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/细说iOS消息推送/">细说iOS消息推送</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>[转载自<a href="https://blog.leancloud.cn/1163/" target="_blank" rel="external">leancloud</a>]</p>
</blockquote>
<h3 id="APNs_的推送机制">APNs 的推送机制</h3><p>与 Android 上我们自己实现的推送服务不一样，Apple 对设备的控制非常严格，消息推送的流程必须要经过 APNs：  </p>
<p><img src="https://dn-yuankeqiang.qbox.me/remote_notif_simple_2x.png" alt="swift">  </p>
<p>这里 Provider 是指某个应用的 Developer，当然如果开发者使用 LeanCloud 的服务，把发送消息的请求委托给我们，那么这里的 Provider 就是 LeanCloud 的推送服务程序了。上图可以分为三步：  </p>
<ol>
<li>LeanCloud 推送服务程序把要发送的消息、目的设备的唯一标识打包，发给 APNs。  </li>
<li>APNs 在自身的已注册 Push 服务的应用列表中，查找有相应标识的设备，并把消息发送到设备。  </li>
<li>iOS 系统把发来的消息传递给相应的应用程序，并且按照设定弹出 Push 通知。  </li>
</ol>
<p>为了实现消息推送，有两点非常重要：  </p>
<p>1、App 的推送证书<br>要能够完整实现一条消息推送，需要我们在 App ID 中打开 Push Notifications，需要我们准备好 Provisioning Profile 和 SSL 证书，并且一定要注意 Development 和 Distribution 环境是需要分开的。最后，把 SSL 证书导入到 LeanCloud 平台，就可以尝试远程消息推送了。具体的操作流程可以参考我们的使用指南：iOS 推送证书设置指南 。  </p>
<p>2、设备标识 DeviceToken<br>知道了谁要推送，或者说要推送给哪个应用之后，APNs 还需要知道推到哪台设备上，这就是设备标识的作用。获取设备标识的流程如下：  </p>
<pre><code><span class="number">1.</span> 应用打开推送开关，用户要确认 TA 希望获得该应用的推送消息；  
<span class="number">2.</span> 应用获得一个 DeviceToken；  
<span class="number">3.</span> 应用将 DeviceToken 保存起来，这里就是通过 [AVInstallation saveInBackground] 将 DeviceToken 保存到 LeanCloud；  
<span class="number">4.</span> 当某些特定事件发生，开发者委托 LeanCloud 来发送推送消息，这时候 LeanCloud 的推送服务器就会给 APNs 发送一则推送消息，APNs 最后消息送到用户设备。  
</code></pre><p><a href="https://dn-yuankeqiang.qbox.me/registration_sequence_2x.png" target="_blank" rel="external">leancloud</a>  </p>
<h3 id="推送相关的几个概念">推送相关的几个概念</h3><h4 id="消息类型">消息类型</h4><p>一条消息推送过来，可以有如下几种表现形式：  </p>
<ul>
<li>显示一个 alert 或者 banner，展现具体内容。  </li>
<li>在应用 icon 上提示一个新到消息数。  </li>
<li>播放一段声音。  </li>
</ul>
<p>开发者可以在每次推送的时候设置，在推送达到用户设备时开发者也可以选择不同的提示方式。  </p>
<h4 id="本地消息通知">本地消息通知</h4><p>iOS 上有两种消息通知，一种是本地消息（Local Notification），一种是远程消息 (Push Notification，也叫 Remote Notification)，设计这两种通知的目的都是为了提醒用户，现在有些什么新鲜的事情发生了，吸引用户重新打开应用。  </p>
<p>本地消息什么时候有用呢？譬如你正在做一个 To-do 的工具类应用，对于用户加入的每一个事项，都会有一个完成的时间点，用户可以要求这个 To-do 应用在事项过期之前的某一个时间点提醒一下 TA。为了达到这一目的，应用就可以调度一个本地通知，在时间点到了之后发出一个 Alert 消息或者其他提示。  </p>
<p>我们在处理推送消息的时候，也可以综合运用这两种方式。  </p>
<h4 id="代码里面如何实现推送">代码里面如何实现推送</h4><p>首先，我们要获取 DeviceToken。  </p>
<p>应用需要每次启动的时候都去注册远程通知——通过调用 UIApplication 的 registerForRemoteNotificationTypes: 方法，传递给它你希望支持的消息类型参数即可，例如：  </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions&#10;&#123;&#10;    // do some initiale working&#10;    ...&#10;&#10;    [application registerForRemoteNotificationTypes:UIRemoteNotificationTypeBadge | UIRemoteNotificationTypeAlert | UIRemoteNotificationTypeSound];&#10;    return YES;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>如果注册成功，APNs 会返回给你设备的 token，iOS 系统会把它传递给 app delegate 代理 application:didRegisterForRemoteNotificationsWithDeviceToken: 方法，你应该在这个方法里面把 token 保存到 LeanCloud 后台，例如：  </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (void)application:(UIApplication *)app didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken &#123;&#10;    NSLog(@&#34;Receive DeviceToken: %@&#34;, deviceToken);&#10;    AVInstallation *currentInstallation = [AVInstallation currentInstallation];&#10;    [currentInstallation setDeviceTokenFromData:deviceToken];&#10;    [currentInstallation saveInBackground];&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>如果注册失败，application:didFailToRegisterForRemoteNotificationsWithError: 方法会被调用，通过 NSError 参数你可以看到具体的出错信息，例如：  </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">  &#10;- (void)application:(UIApplication *)application didFailToRegisterForRemoteNotificationsWithError:(NSError *)error &#123;&#10;    NSLog(@&#34;&#27880;&#20876;&#22833;&#36133;&#65292;&#26080;&#27861;&#33719;&#21462;&#35774;&#22791; ID, &#20855;&#20307;&#38169;&#35823;: %@&#34;, error);&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>请注意，注册流程需要在应用每次启动时调用，这并不不会带来额外的负担，因为 iOS 操作系统在第一次获得了有效的 device token 之后，会本地缓存起来，以后应用再调用 registerForRemoteNotificationTypes: 的时候会立刻返回，并不会再进行网络请求。另外，应用层面不应该对 device token 进行缓存，因为 device token 也有可能变化——如果用户重装了操作系统，那么 APNs 再次给出的 device token 就会和之前的不一样，又或者是，用户 恢复了原来的备份到新的设备上，那么原来的 device token 也会失效。  </p>
<p>其次，我们要处理收到消息之后的回调。  </p>
<p>我们可以设想一下消息通知的几种使用场景：  </p>
<p>1/ 在应用没有被启动的时候，接收到了消息通知。这时候操作系统会按照默认的方式来展现一个 alert 消息，在应用的 icon 上标记一个数字，甚至播放一段声音。<br>2/ 用户看到消息之后，点击了一下 action 按钮或者点击了应用图标。如果 action 按钮被点击了，系统会通过调用 application:didFinishLaunchingWithOptions: 这个代理方法来启动应用，并且会把 notification 的 payload 数据传递进去。如果应用图标被点击了，系统也一样会调用 application:didFinishLaunchingWithOptions: 这个代理方法来启动应用，唯一不同的是这时候启动参数里面不会有任何 notification 的信息。示例代码如下：</p>
<pre><code class="objective-c">&#10;- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions&#10;{&#10;    // do initializing works&#10;    ...&#10;&#10;    if (launchOptions) {&#10;        // do something else&#10;        ...&#10;&#10;        [AVAnalytics trackAppOpenedWithLaunchOptions:launchOptions];&#10;    }&#10;&#10;    [application registerForRemoteNotificationTypes:UIRemoteNotificationTypeBadge | UIRemoteNotificationTypeAlert | UIRemoteNotificationTypeSound];&#10;&#10;    return YES;&#10;}
</code></pre>
<p>3/ 如果远程消息发送过来的时候，应用正在运行，这时候会发生什么呢？应用代理的 application:didReceiveRemoteNotification: 方法会被调用，同时远程消息中的 payload 数据会作为参数传递进去。示例代码如下：  </p>
<pre><code class="objective-c">&#10;&#10;- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo {&#10;    if (application.applicationState == UIApplicationStateActive) {&#10;        // &#36716;&#25442;&#25104;&#19968;&#20010;&#26412;&#22320;&#36890;&#30693;&#65292;&#26174;&#31034;&#21040;&#36890;&#30693;&#26639;&#65292;&#20320;&#20063;&#21487;&#20197;&#30452;&#25509;&#26174;&#31034;&#20986;&#19968;&#20010; alertView&#65292;&#21482;&#26159;&#37027;&#26679;&#31245;&#26174; aggressive&#65306;&#65289;&#10;        UILocalNotification *localNotification = [[UILocalNotification alloc] init];&#10;        localNotification.userInfo = userInfo;&#10;        localNotification.soundName = UILocalNotificationDefaultSoundName;&#10;        localNotification.alertBody = [[userInfo objectForKey:@&#34;aps&#34;] objectForKey:@&#34;alert&#34;];&#10;        localNotification.fireDate = [NSDate date];&#10;        [[UIApplication sharedApplication] scheduleLocalNotification:localNotification];&#10;    } else {&#10;        [AVAnalytics trackAppOpenedWithRemoteNotificationPayload:userInfo];&#10;    }&#10;}
</code></pre>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/推送/">推送</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-swift实现UITableViewCell滑动删除" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/swift实现UITableViewCell滑动删除/" class="article-date">
  	<time datetime="2015-11-06T06:00:39.000Z" itemprop="datePublished">2015-11-06</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/swift实现UITableViewCell滑动删除/">swift实现UITableViewCell滑动删除</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="UITableViewCell滑动删除">UITableViewCell滑动删除</h3><p>实现Cell的滑动删除，只需重写UITableViewDelegate代理中的如下2个方法。  </p>
<pre><code class="swift">
<span class="comment">// 进入编辑模式，按下编辑按钮后执行  </span>
<span class="func"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, commitEditingStyle editingStyle: UITableViewCellEditingStyle, forRowAtIndexPath indexPath: NSIndexPath)</span></span> {
    <span class="comment">//删除数组中的数据</span>
    <span class="keyword">self</span>.dataArray.removeAtIndex(indexPath.row);  
    <span class="comment">//删除单元格</span>
    <span class="keyword">self</span>.tableView.deleteRowsAtIndexPaths([indexPath], withRowAnimation: <span class="type">UITableViewRowAnimation</span>.<span class="type">Top</span>);
}

<span class="comment">//修改文字  </span>
<span class="func"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, titleForDeleteConfirmationButtonForRowAtIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">String</span>? {
    <span class="keyword">return</span> <span class="string">"啊~不要"</span>;
}
</code></pre>
<p> <img src="https://dn-yuankeqiang.qbox.me/uitableviewcell11.gif" alt="swift">  </p>
<h3 id="UITableview_自定义Action">UITableview 自定义Action</h3><p>上面只实现了UITableViewCell的单个编辑Action，若要自定义Action，可使用如下的代理方法。  </p>
<pre><code class="swift">
<span class="func"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, editActionsForRowAtIndexPath indexPath: NSIndexPath)</span></span> -&gt; [<span class="type">UITableViewRowAction</span>]? {
    <span class="keyword">let</span> action1 = <span class="type">UITableViewRowAction</span>(style: <span class="type">UITableViewRowActionStyle</span>.<span class="type">Default</span>, title: <span class="string">"删除"</span>) { (action , index) -&gt; <span class="type">Void</span> <span class="keyword">in</span>
        <span class="built_in">print</span>(<span class="string">"点击了删除"</span>);
    }
    <span class="keyword">let</span> action2 = <span class="type">UITableViewRowAction</span>(style: <span class="type">UITableViewRowActionStyle</span>.<span class="type">Normal</span>, title: <span class="string">"取消关注"</span>) { (action , index) -&gt; <span class="type">Void</span> <span class="keyword">in</span>
        <span class="built_in">print</span>(<span class="string">"点击了取消关注"</span>);
    }
    <span class="keyword">return</span> [action1,action2];
}
</code></pre>
<p><img src="https://dn-yuankeqiang.qbox.me/uitableviewcell2.gif" alt="swift">  </p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-持续集成是什么" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/持续集成是什么/" class="article-date">
  	<time datetime="2015-11-02T06:46:39.000Z" itemprop="datePublished">2015-11-02</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/持续集成是什么/">持续集成是什么？</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>[转载自<a href="http://www.ruanyifeng.com/blog/2015/09/continuous-integration.html" target="_blank" rel="external">阮一峰的网络日志</a>]</p>
</blockquote>
<p>互联网软件的开发和发布，已经形成了一套标准流程，最重要的组成部分就是持续集成（Continuous integration，简称CI）。  </p>
<p>本文简要介绍持续集成的概念和做法。  </p>
<p><img src="https://dn-yuankeqiang.qbox.me/bg2015092301.png" alt="test">  </p>
<h3 id="一、概念">一、概念</h3><p>持续集成指的是，频繁地（一天多次）将代码集成到主干。  </p>
<p>它的好处主要有两个。  </p>
<ol>
<li>快速发现错误。每完成一点更新，就集成到主干，可以快速发现错误，定位错误也比较容易。  </li>
<li>防止分支大幅偏离主干。如果不是经常集成，主干又在不断更新，会导致以后集成的难度变大，甚至难以集成。   </li>
</ol>
<p>持续集成的目的，就是让产品可以快速迭代，同时还能保持高质量。它的核心措施是，代码集成到主干之前，必须通过自动化测试。只要有一个测试用例失败，就不能集成。  </p>
<p>Martin Fowler说过，”持续集成并不能消除Bug，而是让它们非常容易发现和改正。”  </p>
<p>与持续集成相关的，还有两个概念，分别是持续交付和持续部署。  </p>
<h3 id="二、持续交付">二、持续交付</h3><p>持续交付（Continuous delivery）指的是，频繁地将软件的新版本，交付给质量团队或者用户，以供评审。如果评审通过，代码就进入生产阶段。  </p>
<p>持续交付可以看作持续集成的下一步。它强调的是，不管怎么更新，软件是随时随地可以交付的。  </p>
<h3 id="三、持续部署">三、持续部署</h3><p>持续部署（continuous deployment）是持续交付的下一步，指的是代码通过评审以后，自动部署到生产环境。  </p>
<p>持续部署的目标是，代码在任何时刻都是可部署的，可以进入生产阶段。  </p>
<p>持续部署的前提是能自动化完成测试、构建、部署等步骤。它与持续交付的区别，可以参考下图。  </p>
<p><img src="https://dn-yuankeqiang.qbox.me/bg2015092302.jpg" alt="test">  </p>
<h3 id="四、流程">四、流程</h3><p>根据持续集成的设计，代码从提交到生产，整个过程有以下几步。  </p>
<p>4.1 提交<br>流程的第一步，是开发者向代码仓库提交代码。所有后面的步骤都始于本地代码的一次提交（commit）。  </p>
<p>4.2 测试（第一轮）<br>代码仓库对commit操作配置了钩子（hook），只要提交代码或者合并进主干，就会跑自动化测试。<br>测试有好几种。  </p>
<ul>
<li>单元测试：针对函数或模块的测试  </li>
<li>集成测试：针对整体产品的某个功能的测试，又称功能测试  </li>
<li>端对端测试：从用户界面直达数据库的全链路测试  </li>
</ul>
<p>第一轮至少要跑单元测试。  </p>
<p>4.3 构建<br>通过第一轮测试，代码就可以合并进主干，就算可以交付了。  </p>
<p>交付后，就先进行构建（build），再进入第二轮测试。所谓构建，指的是将源码转换为可以运行的实际代码，比如安装依赖，配置各种资源（样式表、JS脚本、图片）等等。  </p>
<p>常用的构建工具如下。  </p>
<ul>
<li><a href="http://jenkins-ci.org/" target="_blank" rel="external">Jenkins</a>   </li>
<li><a href="https://travis-ci.com/" target="_blank" rel="external">Travis</a>  </li>
<li><a href="https://www.codeship.io/" target="_blank" rel="external">Codeship</a>  </li>
<li><a href="http://stridercd.com/" target="_blank" rel="external">Strider</a>  </li>
</ul>
<p>Jenkins和Strider是开源软件，Travis和Codeship对于开源项目可以免费使用。它们都会将构建和测试，在一次运行中执行完成。  </p>
<p>4.4 测试（第二轮）<br>构建完成，就要进行第二轮测试。如果第一轮已经涵盖了所有测试内容，第二轮可以省略，当然，这时构建步骤也要移到第一轮测试前面。  </p>
<p>第二轮是全面测试，单元测试和集成测试都会跑，有条件的话，也要做端对端测试。所有测试以自动化为主，少数无法自动化的测试用例，就要人工跑。  </p>
<p>需要强调的是，新版本的每一个更新点都必须测试到。如果测试的覆盖率不高，进入后面的部署阶段后，很可能会出现严重的问题。  </p>
<p>4.5 部署<br>通过了第二轮测试，当前代码就是一个可以直接部署的版本（artifact）。将这个版本的所有文件打包（ tar filename.tar * ）存档，发到生产服务器。  </p>
<p>生产服务器将打包文件，解包成本地的一个目录，再将运行路径的符号链接（symlink）指向这个目录，然后重新启动应用。这方面的部署工具有Ansible，Chef，Puppet等。  </p>
<p>4.6 回滚<br>一旦当前版本发生问题，就要回滚到上一个版本的构建结果。最简单的做法就是修改一下符号链接，指向上一个版本的目录。  </p>
<h3 id="五、参考链接">五、参考链接</h3><p>Gergely Nemeth, <a href="https://blog.risingstack.com/continuous-deployment-of-node-js-applications/" target="_blank" rel="external">Continuous Deployment of Node.js Applications</a><br>Codeship, <a href="https://codeship.com/continuous-integration-essentials" target="_blank" rel="external">Continuous Integration Essentials</a>   </p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/持续集成/">持续集成</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/测试/">测试</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-使用融云为你的App添加即时通讯功能" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/使用融云为你的App添加即时通讯功能/" class="article-date">
  	<time datetime="2015-10-30T02:49:39.000Z" itemprop="datePublished">2015-10-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/使用融云为你的App添加即时通讯功能/">使用融云为你的App添加即时通讯功能</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[使用swift语言，为项目添加一个单对单通讯功能]</p>
<h3 id="简介">简介</h3><p>融云是一款第三方即时通讯SDK，通过融云平台，开发者不必搭建服务端硬件环境，就可以将即时通讯、实时网络能力快速集成至应用中。<br>官网：<a href="http://www.rongcloud.cn/" target="_blank" rel="external">http://www.rongcloud.cn/</a>  </p>
<blockquote>
<p>类似的SDK还有leancloud、环信等。  </p>
</blockquote>
<h3 id="创建应用">创建应用</h3><p>在进行应用开发之前，需要前往<a href="https://developer.rongcloud.cn/signin" target="_blank" rel="external">融云开发者平台</a> 创建应用。<br>获得App Key和App Secret 。</p>
<h3 id="通过CocoaPods安装SDK">通过CocoaPods安装SDK</h3><p>在Podfile中加入pod ‘RongCloudIMKit’<br>执行命令安装  </p>
<pre><code class="bash">$ pod install
</code></pre>
<p>安装完成后在swift与objective-c的桥接文件中导入SDK  </p>
<pre><code class="swift">#<span class="keyword">import</span> &lt;RongIMKit/RongIMKit.h&gt;
</code></pre>
<h3 id="初始化SDK">初始化SDK</h3><p>初始化SDK，通过token链接服务器，并设置当前的用户。  </p>
<pre><code class="swift"><span class="comment">//初始化SDK</span>
<span class="type">RCIM</span>.sharedRCIM().initWithAppKey(<span class="string">"cpj2xarljexxx"</span>)  
<span class="comment">// 连接服务器</span>
<span class="type">RCIM</span>.sharedRCIM().connectWithToken(<span class="string">"/3SuTgMXKxywuZcZSyVeUyKCc+4pFtAAaogrQ+3UGk7BaEgBD5YClHs6HVIYJGTtuuaS2B1/6ACXwLNzSRhJTA=="</span>, success: { (str:<span class="type">String</span>!) -&gt; <span class="type">Void</span> <span class="keyword">in</span>
    <span class="keyword">let</span> currentUserInfo = <span class="type">RCUserInfo</span>(userId: <span class="string">"001"</span>, name: <span class="string">"袁克强"</span>, portrait: <span class="literal">nil</span>)
    <span class="type">RCIMClient</span>.sharedRCIMClient().currentUserInfo = currentUserInfo
    <span class="built_in">print</span>(<span class="string">"连接成功!"</span>)
}, error: {(error)-&gt; <span class="type">Void</span> <span class="keyword">in</span>
    <span class="built_in">print</span>(error);
}, tokenIncorrect: {()-&gt; <span class="type">Void</span> <span class="keyword">in</span>
    <span class="built_in">print</span>(<span class="string">"token错误"</span>);
})
</code></pre>
<p><em>注：这里使用写死的token与用户信息，实际开发中我们需要登录后保存用户信息，并通过UserId远程获取token 参考<a href="http://www.rongcloud.cn/docs/server.html#_用户服务_原身份认证服务_" target="_blank" rel="external">http://www.rongcloud.cn/docs/server.html#<em>用户服务</em>原身份认证服务_</a>，融云服务器不保存用户信息。</em></p>
<h3 id="启动单聊会话界面">启动单聊会话界面</h3><p>融云IMKit的会话界面已经高度集成，你只需要启动会话界面。<br>下面的例子是一个Button点击事件触发（聊天对象为自己）。</p>
<pre><code class="swift"><span class="func"><span class="keyword">func</span> <span class="title">createConversation</span><span class="params">()</span></span>{
    <span class="keyword">let</span> conVC = <span class="type">RCConversationViewController</span>();
    conVC.targetId = <span class="string">"001"</span>    
    conVC.userName = <span class="string">"袁克强"</span>
    conVC.conversationType = <span class="type">RCConversationType</span>.<span class="type">ConversationType_PRIVATE</span>
    conVC.title = v.userName;
    <span class="keyword">self</span>.navigationController?.pushViewController(conVC, animated: <span class="literal">true</span>);
}
</code></pre>
<h3 id="效果">效果</h3><p><img src="http://7xnv0h.com1.z0.glb.clouddn.com/0C756E83-9237-4359-8BE4-18B055DDC00B.png" alt="ios">    </p>
<p>至此，一个简单的类似微信的单对单通讯功能已经开发完毕。  </p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/融云/">融云</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/hello-world/" class="article-date">
  	<time datetime="2015-10-28T01:06:17.000Z" itemprop="datePublished">2015-10-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/hello-world/">Hello World</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>将之前的文章迁移到github.</p>
<h2 id="Quick_Start">Quick Start</h2><h3 id="Create_a_new_post">Create a new post</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Hello = World();</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/test/">test</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-使用腾讯信鸽推送iOS消息" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/04/使用腾讯信鸽推送iOS消息/" class="article-date">
  	<time datetime="2015-04-10T00:06:17.000Z" itemprop="datePublished">2015-04-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/使用腾讯信鸽推送iOS消息/">使用腾讯信鸽推送iOS消息</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>近期App需要添加推送功能，选择了腾讯信鸽作为消息推送平台。  </p>
<h3 id="信鸽">信鸽</h3><p><a href="http://xg.qq.com/" target="_blank" rel="external">信鸽</a>（XG Push）是一款专业移动App推送平台，支持百亿级的通知/消息推送，秒级触达移动用户，现已全面支持Android和iOS两大主流平台。开发者可以方便地通过嵌入SDK，通过API调用或者Web端可视化操作，实现对特定用户推送，大幅提升用户活跃度，有效唤醒沉睡用户，并实时查看推送效果。  </p>
<p>简单记录开发过程（使用swift语言）：  </p>
<h3 id="1-_接入应用">1. 接入应用</h3><p>登录<a href="http://xg.qq.com/" target="_blank" rel="external">http://xg.qq.com/</a>  创建应用，获得ACCESS ID及ACCESS KEY。</p>
<p><img src="http://7xnv0h.com1.z0.glb.clouddn.com/2437291823355654328.png" alt="xinge">  </p>
<h3 id="2-_制作证书并上传">2. 制作证书并上传</h3><p>官方提供了详细的证书制作指南 <a href="http://developer.xg.qq.com/index.php/IOS_证书设置指南" target="_blank" rel="external">http://developer.xg.qq.com/index.php/IOS_证书设置指南</a>  </p>
<p>制作完成后上传即可。  </p>
<p><img src="http://7xnv0h.com1.z0.glb.clouddn.com/2448832297400692896.png" alt="xinge">  </p>
<h3 id="3-_下载SDK及工程配置">3. 下载SDK及工程配置</h3><ol>
<li><p>下载信鸽SDK压缩包到本地并解压；</p>
</li>
<li><p>创建或打开Xcode iOS工程；</p>
</li>
<li><p>将XGSetting.h 和 XGPush.h 和 libXG-SDK.a添加到Xcode工程；</p>
</li>
<li><p>添加对以下libraries的引用。包括CFNetwork.framework , SystemConfiguration.framework , CoreTelephony.framework , libz.dylib , libXG-SDK.a，Security.framework<br><img src="http://7xnv0h.com1.z0.glb.clouddn.com/Ios_pic1.png" alt="xinge"> </p>
</li>
<li>最后由于SDK是object-c版本的，在链接文件中引入头信息以便swift调用。<br>#import “XGPush.h”<br>#import “XGSetting.h”</li>
</ol>
<h3 id="4-_使用swift调用SDK">4. 使用swift调用SDK</h3><p><a href="http://developer.xg.qq.com/index.php/IOS_SDK" target="_blank" rel="external">参考技术开发文档</a>  </p>
<p>主要相关代码(AppDelegate.swift)：  </p>
<pre><code class="swift">
<span class="comment">// ........</span>

<span class="func"><span class="keyword">func</span> <span class="title">application</span><span class="params">(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?)</span></span> -&gt; <span class="type">Bool</span> {

 <span class="type">XGPush</span>.startApp(220010xxxx,appKey:<span class="string">"IVPV4T39xxxx"</span>);
   <span class="type">XGPush</span>.initForReregister { () -&gt; <span class="type">Void</span> <span class="keyword">in</span>
        <span class="keyword">if</span>(!<span class="type">XGPush</span>.isUnRegisterStatus()){
            <span class="built_in">println</span>(<span class="string">"注册通知"</span>);
            <span class="keyword">if</span>(<span class="type">UIApplication</span>.instancesRespondToSelector(<span class="type">Selector</span>( <span class="string">"registerUserNotificationSettings:"</span> ))){
                application.registerUserNotificationSettings ( <span class="type">UIUserNotificationSettings</span> (forTypes:  <span class="type">UIUserNotificationType</span>.<span class="type">Sound</span> |  <span class="type">UIUserNotificationType</span>.<span class="type">Alert</span> |  <span class="type">UIUserNotificationType</span>.<span class="type">Badge</span>, categories:  <span class="literal">nil</span> ))
                application.registerForRemoteNotifications();
            } <span class="keyword">else</span> {
                application.registerForRemoteNotificationTypes(.<span class="type">Alert</span> | .<span class="type">Sound</span> | .<span class="type">Badge</span>);
            }
        }
    }
    <span class="comment">//推送反馈(app不在前台运行时，点击推送激活时)</span>
    <span class="type">XGPush</span>.handleLaunching(launchOptions)
}

<span class="comment">// 远程推送注册成功，获取deviceToken</span>
<span class="func"><span class="keyword">func</span> <span class="title">application</span><span class="params">(application: UIApplication , didRegisterForRemoteNotificationsWithDeviceToken deviceToken: NSData )</span></span> {
    <span class="keyword">var</span>  deviceTokenStr : <span class="type">String</span> = <span class="type">XGPush</span>.registerDevice(deviceToken);
    <span class="built_in">println</span>(deviceTokenStr)
}


<span class="comment">// 远程推送注册失败</span>
<span class="func"><span class="keyword">func</span> <span class="title">application</span><span class="params">(application: UIApplication , didFailToRegisterForRemoteNotificationsWithError error: NSError )</span></span> {
    <span class="keyword">if</span> error.code == <span class="number">3010</span> {
        <span class="built_in">println</span> ( <span class="string">"Push notifications are not supported in the iOS Simulator."</span> )
    } <span class="keyword">else</span> {
        <span class="built_in">println</span> ( <span class="string">"application:didFailToRegisterForRemoteNotificationsWithError: <span class="subst">\(error)</span> "</span> )
    }
}


<span class="comment">//app在前台运行时收到远程通知</span>
<span class="func"><span class="keyword">func</span> <span class="title">application</span><span class="params">(application: UIApplication, didReceiveRemoteNotification userInfo: [NSObject : AnyObject])</span></span> {
    <span class="built_in">println</span>(userInfo);
    <span class="type">XGPush</span>.handleReceiveNotification(userInfo);
}

<span class="comment">//收到本地通知</span>
<span class="func"><span class="keyword">func</span> <span class="title">application</span><span class="params">(application: UIApplication, didReceiveLocalNotification notification: UILocalNotification)</span></span> {
    <span class="comment">// ...</span>
}
</code></pre>
<h3 id="5-_进行验证测试">5. 进行验证测试</h3><p>根据之前代码里获得的deviceToken添加一台测试设备。<br><img src="http://7xnv0h.com1.z0.glb.clouddn.com/979532918971158346.png" alt="xinge">  </p>
<p>在腾讯信鸽平台创建一条开发环境的推送，手机就能收到推送的消息了。  </p>
<p><img src="http://7xnv0h.com1.z0.glb.clouddn.com/3833689182899793133.png" alt="xinge"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/推送/">推送</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-产品经理的20堂必修课" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2014/10/产品经理的20堂必修课/" class="article-date">
  	<time datetime="2014-10-09T00:06:17.000Z" itemprop="datePublished">2014-10-09</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/10/产品经理的20堂必修课/">产品经理的20堂必修课</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-从用户需求出发">1.从用户需求出发</h3><p>任何产品想要有用户使用，就必须以满足用户需求为目的。</p>
<p>美国人本主义心理学家马斯洛把人们多种多样的需求分为八大类：生理需求、安全需求、归属于爱、尊重需求、认知需求、美学需求、自我实现、超越需求。</p>
<p>让产品的核心功能满足人们的基本需求，才能得以获得市场的最大效果。</p>
<h3 id="2-围绕用户需求打造产品竞争力">2.围绕用户需求打造产品竞争力</h3><p>两种常见而有效的围绕用户需求打造产品价值的策略：</p>
<ol>
<li>用颠覆性的方式满足用户的核心需求。</li>
<li>集中精力充分满足用户的几个期望型需求。</li>
</ol>
<h3 id="3-为什么我们的产品总是失败">3.为什么我们的产品总是失败</h3><p>九个字：用户对它并不感兴趣。</p>
<p>###4.简单，让产品更加锋利</p>
<p>乔布斯说：“简单之所以比复杂更难，是因为你必须努力地清空你的大脑，让它变得简单，但这种努力最终被证实为有价值，因为你一旦进入那种境界，便可以撼动大山”。</p>
<p>用户喜欢简单的产品，因为懒惰是人的天性，人们在使用产品时，不愿被打扰，不愿意做过多的思考，不愿意进行复杂的操作，他们只想自己的需求轻松地得以满足。</p>
<p>要将一款产品做的足够简单，则要遵守以下几个原则：</p>
<p>拒绝不重要的功能、功能主次分明、循序渐进地引导用户、让产品更加智能。</p>
<h3 id="5-用运营构筑产取决于产品竞争壁垒">5.用运营构筑产取决于产品竞争壁垒</h3><p>产品的竞争力高低主要产品功能符合目标用户要求的程度，但是随着互联网技术的发展，产品功能越来越容易被模仿，所有功能上的竞争优势往往很难长期维持。而由运营确立起来的优势却不一样，内容和用户都要靠时间积累出来，一旦你的产品再内容和用户上确立起绝对领先的优势，产品的竞争对手要想在短时间内对你构成实质性的威胁就非常困难。</p>
<h3 id="6-_互联网产品战略">6. 互联网产品战略</h3><ul>
<li>上兵伐谋-互联网战争中的谋略</li>
<li>求之于势-兼顾全局发展</li>
<li>霸道进攻-抢占互联网渠道</li>
<li>王道防守-打造非凡产品功能与内容</li>
</ul>
<h3 id="7-互联网产品团队">7.互联网产品团队</h3><p>在互联网公司，产品团队是公司最核心的团队。产品团队的好坏不仅决定了产品的更新频率，而且在很大程度上解决了产品质量和产品效果。</p>
<p>产品团队的关键角色包括：产品经理、设计师、开发工程师、项目经理、测试人员、运维工程师、QA人员。</p>
<h3 id="8-产品经理的工作职责">8.产品经理的工作职责</h3><p>产品经理的工作职责可分为5个方面：</p>
<p>产品策略制定、用户需求分析、产品功能规划、产品功能开发、其他。</p>
<h3 id="9-_用户需求分析">9. 用户需求分析</h3><p>如何进行用户需求分析，挖掘最有价值的用户需求：</p>
<ul>
<li><p>进行用户需求分析前，需先获取用户需求(用户反馈)，通过邮箱、QQ、论坛、调查问卷等。</p>
</li>
<li><p>产品经理在获得用户反馈的同时，需要深入地分析用户反馈背后的相关信息，将用户反馈解析为用户需求。</p>
</li>
<li><p>过滤无价值的用户需求，通过 是不是目标用户的需求、是不是目标用户的普遍需求、是否与产品定位相符合 等标准来判断是否具有价值。</p>
</li>
</ul>
<h3 id="10-产品需求管理">10.产品需求管理</h3><p>产品经理根据用户需求规划产品功能，这些待实现的产品功能对于产品来说就是产品需求。</p>
<p>为了便于记录、评估和跟踪产品需求，产品经理需创建和维护一张产品需求列表，对所负责产品的产品需求进行系统的管理。</p>
<h3 id="11-流程图制作">11.流程图制作</h3><p>制作流程图的目的主要有2方面：</p>
<ul>
<li>帮助产品经理梳理、完善用户操作流程。</li>
<li>有效降低团队成员间的沟通成本。<br>常见的流程图软件有：visio、ominiGraffle等。</li>
</ul>
<h3 id="12-产品原型制作">12.产品原型制作</h3><p>产品原型是用于表达产品功能和内容的示意图。涵盖3要素：元素、界面、交互。</p>
<p>常见的工具有：Axure、photoshop等，另外mac环境强烈推荐【sketch】。</p>
<h3 id="13-商业需求文档(BRD)撰写">13.商业需求文档(BRD)撰写</h3><p>BRD(Bussiness Requirement Document)是指基于商业价值所描述的产品需求内容文档，其核心用途是作为公司高层</p>
<p>决策评估产品项目是否开展的主要依据。</p>
<p>主要内容应包括：用户价值、商业价值、目标市场、市场规模、竞争格局、市场时机、产品目标、功能概要、实施计划、产品定位、产品愿景、产品成本、产品风险。</p>
<h3 id="14-产品需求文档(PRD)撰写">14.产品需求文档(PRD)撰写</h3><p>PRD(Product Requirement Document)即产品需求文档，主要用于完整描述产品需求，向研发部门明确产品的功能和性能。</p>
<p>常见内容：版本修订记录、项目概述、项目价值、项目背景、场景描述、功能总表、业务流程图、用户界面、功能描述、非功能需求、附录。</p>
<h3 id="15-项目管理主要步骤">15.项目管理主要步骤</h3><ul>
<li>制定项目计划</li>
<li>跟踪、控制项目计划的执行</li>
</ul>
<h3 id="16-如何提升项目管理效率">16.如何提升项目管理效率</h3><ul>
<li>严格控制产品范围，尽可能减少需求更变次数</li>
<li>构建良好的沟通机制和渠道</li>
<li>不断激发团队战斗力</li>
<li>加强项目风险管理</li>
<li>做好每个项目的总结</li>
</ul>
<h3 id="17-结构化发散思维">17.结构化发散思维</h3><p>发散性思维是指在思考问题时摆脱旧经验、旧意识，冲破常规的束缚，提出富有创造性的见解、观点和方案。</p>
<h3 id="18-产品创新能力">18.产品创新能力</h3><p>对于互联网公司来说，创新能力直接关系着自身的核心竞争力，乃至生死存亡。</p>
<p>而那些能够长期处于领袖地位的公司都有着一个共同的特性，那就是具备持续不断的创新能力。</p>
<h3 id="19-高效沟通技巧">19.高效沟通技巧</h3><p>一名优秀的产品经理必须是一名优秀的沟通者，具备良好的沟通能力。</p>
<p>常见的沟通方式：面对面沟通、会议沟通、电话沟通、IM沟通、E-mail沟通。</p>
<h3 id="20-数据分析能力">20.数据分析能力</h3><p>做为一名合格的产品经理，要对数据十分敏感，善于通过数据分析从大量的数据中挖掘有用的信息，用来指导和改善自己乃至他人的工作，提升工作的效率，创造新的价值。</p>
<p>数据分析过程一般分为以下几个步骤：确定目标、收集数据、整理数据、分析数据、得出结论和制作信息图。</p>
<p><img src="http://7xnv0h.com1.z0.glb.clouddn.com/6619469017537446609.jpg" alt="ykq"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/互联网/">互联网</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/产品/">产品</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/读书/">读书</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-《富爸爸穷爸爸》读后感" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2014/10/《富爸爸穷爸爸》读后感/" class="article-date">
  	<time datetime="2014-10-02T00:06:17.000Z" itemprop="datePublished">2014-10-02</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/10/《富爸爸穷爸爸》读后感/">《富爸爸穷爸爸》读后感</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>书中摘录：</p>
<ol>
<li>造成贫穷和财务问题的主要原因是恐惧和无知，而非经济环境、政府或富人。</li>
<li>富人买入资产，穷人只有支出，中产阶级买他们以为是资产的负债。<br>什么是资产？资产就是向你口袋送钱的东西。什么是负债？负债就是把钱从你口袋掏出的东西。</li>
<li>要懂得如何“让钱来替你工作”，而不是“为了钱而工作”。  </li>
<li>关注自己的事业。</li>
<li>金钱从来不是真正的资产，我们唯一的、真正的资产是我们的头脑。</li>
<li>存在财务问题的人经常是一生为别人工作的人，许多人在他们停止工作时就变得一无所有。</li>
<li>风险总是无处不在，要学会驾驭风险，而不是一味回避风险。</li>
<li>你学习什么，就会成为什么样的人。</li>
<li>生活才是最好的老师,大多数时候，生活并不对你说些什么,它只是推着你转,每一次推,它都像是在说“喂，醒一醒，有些东西我想让你学学”。</li>
<li>首先支付自己。</li>
<li>学会让金钱为你工作更加重要。</li>
<li>如果你想获得，你首先需要给予。</li>
<li>…..</li>
</ol>
<p>本书作者罗伯特·T·清崎有两个爸爸：他的亲生父亲，一个高学历的教育官员（穷爸爸）。以及一个他好朋友的父亲，一个高中没毕业却善于投资理财的企业家（富爸爸）。</p>
<p>清崎以亲身经历的财富故事展示了“穷爸爸”和“富爸爸”截然不同的金钱观和财富观。</p>
<p>穷人为钱工作，富人让钱为自己工作。</p>
<p>这是一本挺不错的理财书籍。</p>
<p>我们可以借它学习理财知识并借此树立正确的财务观念。</p>
<p>但不要指望一本书就能让人达到财务自由的境地。</p>
<p>读同样一本书，有的人开始做白日梦，有的人看到另一个世界。</p>
<p>梦醒了，有的人开始破口大骂，有的人笑而不语 。</p>
<p>我们能做的就是：</p>
<p>从今天起，把“不能”替换掉，时刻想想“我怎么能做成这个”，做一个积极的思考者和行动者。</p>
<p><img src="http://7xnv0h.com1.z0.glb.clouddn.com/6599286382099492428.jpeg" alt="ykq"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/理财/">理财</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/读书/">读书</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-cookie有关的术语" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2014/09/cookie有关的术语/" class="article-date">
  	<time datetime="2014-09-14T00:06:17.000Z" itemprop="datePublished">2014-09-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/cookie有关的术语/">cookie有关的术语</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="session_cookie">session cookie</h3><p>当cookie没有设置超时时间，那么cookie会在浏览器退出时销毁，这种cookie是session cookie。  </p>
<h3 id="persistent_cookie/tracking_cookie">persistent cookie/tracking cookie</h3><p>设置了超时时间的cookie，会在指定时间销毁，cookie的维持时间可以持续到浏览器退出之后，这种cookie被持久化在浏览器中。  </p>
<p>很多站点用cookie跟踪用户的历史记录，例如广告类站点会使用cookie记录浏览过哪些内容，搜索引擎会使用cookie记录历史搜索记录，这时也可以称作tracking cookie，因为它被用于追踪用户行为。    </p>
<h3 id="secure_cookie">secure cookie</h3><p>服务器端设置cookie的时候，可以指定secure属性，这时cookie只有通过https协议传输的时候才会带到网络请求中，不加密的http请求不会带有secure cookie。</p>
<p>设置secure cookie的方式举例：</p>
<p>Set-Cookie: foo=bar; Path=/; Secure  </p>
<h3 id="HttpOnly_cookie">HttpOnly cookie</h3><p>服务器端设置cookie的时候，也可以指定一个HttpOnly属性。</p>
<p>Set-Cookie: foo=bar; Path=/; HttpOnly</p>
<p>设置了这个属性的cookie在javascript中无法获取到，只会在网络传输过程中带到服务器。  </p>
<h3 id="third-party_cookie">third-party cookie</h3><p>第三方cookie的使用场景通常是iframe，例如www.a.com潜入了一个www.ad.com的广告iframe，那么www.ad.com设置的cookie不属于www.a.com，被称作第三方cookie。  </p>
<h3 id="supercookie">supercookie</h3><p>cookie会从属于一个域名，例如www.a.com，或者属于一个子域，例如b.a.com。但是如果cookie被声明为属于.com会发生什么？这个cookie会在任何.com域名生效。这有很大的安全性问题。这种cookie被称作supercookie。</p>
<p>浏览器做出了限制，不允许设置顶级域名cookie(例如.com，.net)和pubic suffix cookie(例如.co.uk，.com.cn)。</p>
<p>现代主流浏览器都很好的处理了supercookie问题，但是如果有些第三方浏览器使用的顶级域名和public suffix列表有问题，那么就可以针对supercookie进行攻击啦。  </p>
<h3 id="zombie_cookie/evercookie">zombie cookie/evercookie</h3><p>僵尸cookie是指当用户通过浏览器的设置清除cookie后可以自动重新创建的cookie。原理是通过使用多重技术记录同样的内容(例如flash，silverlight)，当cookie被删除时，从其他存储中恢复。</p>
<p>evercookie是实现僵尸cookie的主要技术手段。  </p>
<p><img src="http://7xnv0h.com1.z0.glb.clouddn.com/6608239705284263194.jpg" alt="cookie"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/cookie/">cookie</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/session/">session</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/安全/">安全</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-linux下的定时任务crontab" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2014/08/linux下的定时任务crontab/" class="article-date">
  	<time datetime="2014-08-27T00:06:17.000Z" itemprop="datePublished">2014-08-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/08/linux下的定时任务crontab/">linux下的定时任务crontab</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[环境centos 6.5]</p>
<h3 id="前言">前言</h3><p>crontab命令常见于Unix和类Unix的操作系统之中，用于设置周期性被执行的指令。该命令从标准输入设备读取指令，并将其存放于“crontab”文件中(/var/spool/cron/以用户命名的文件)，以供之后读取和执行。该词来源于希腊语 chronos(χρνο)，原意是时间。  </p>
<p>通常，crontab储存的指令被守护进程 - crond激活在后台运行，每一分钟检查是否有预定的作业需要执行。这类作业一般称为cron jobs。  </p>
<h3 id="启动crond进程">启动crond进程</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ service crond start</span><br></pre></td></tr></table></figure>
<p>若没安装请先安装：  </p>
<pre><code class="bash">$ yum install vixie-cron
$ yum install crontabs
</code></pre>
<h3 id="crontab常见命令：">crontab常见命令：</h3><p>crontab -e 编辑crontab文件，编辑后crond进程自动读取<br>crontab -l 列出用户crontab文件的详细内容<br>crontab -r 删除crontab文件  </p>
<h3 id="crontab文件格式">crontab文件格式</h3><p>crontab文件由6部分组成  </p>
<ol>
<li>minute 一小时中的哪一分钟[0-59]</li>
<li>hour 一天中的哪一小时[0-23]</li>
<li>day-of-month 一月中的哪一天[1-31]</li>
<li>month-of-year 一年中的哪一月[1-12]</li>
<li>day-of-week 一周中的哪一天[0-6]</li>
<li>commands 执行的命令</li>
</ol>
<p><img src="http://7xnv0h.com1.z0.glb.clouddn.com/6608553066097013002.jpg" alt="ykq"></p>
<p>这些选项都不能为空，如果用户不需要制定其中的几项，可以使用*表示任何时间。</p>
<p>每个时间字段都可以指定多个值，可以用逗号隔开, 5-8 */5   </p>
<pre><code class="bash"><span class="number">15</span> <span class="number">3</span> * * <span class="number">1</span>-<span class="number">5</span> <span class="built_in">echo</span> <span class="number">111</span> &gt; aa.txt
</code></pre>
<p>如上面标示每周一到周5的3点15分执行该计划任务</p>
<h3 id="哪些用户可以使用crontab命令">哪些用户可以使用crontab命令</h3><ul>
<li>/etc/cron.allow 如果这个文件存在，那么只有在此文件中的用户可以使用crontab命令，如果文件不存在则查找/etc/cron.deny</li>
<li>/etc/cron.deny 如果这个文件存在，则在此文件中的用户都不能使用crontab命令</li>
<li>如果2个文件都不存在，则只有root能使用crontab命令</li>
<li>如果2个文件都存在，且均为空，则所有用户都能使用crontab命令  </li>
</ul>
<h3 id="定时任务结合PHP">定时任务结合PHP</h3><p>定时执行php很简单，只需要把命令换成php脚本就行了，如下表示每隔1分钟执行index.php  </p>
<pre><code class="bash">*/<span class="number">1</span> * * * * php /usr/www/<span class="built_in">test</span>/index.php
</code></pre>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP/">PHP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/定时/">定时</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2015 袁克强
    	</div>
      	<div class="footer-right">
      		by <a href="http://hexo.io/" target="_blank">Hexo</a> <script src="http://s16.cnzz.com/stat.php?id=5673277&web_id=5673277&show=pic1" language="JavaScript"></script>
 <script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F39df0d7283640c00f78b622f3b7c72d6' type='text/javascript'%3E%3C/script%3E"));
</script>  
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>




  </div>
</body>
</html>